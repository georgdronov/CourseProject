# Курсовой проект

## Используйте следующее (в зависимости от вашей группы):

- **.NET**: C#, Blazor или MVC (на ваш выбор)
- **JavaScript**: JavaScript или TypeScript (на ваш выбор), React (спросите, если хотите заменить React на Angular)

Можно использовать любую базу данных и любые другие библиотеки, компоненты или даже фреймворки (но не заменяйте указанные выше).

Нет ограничений на архитектуру или используемые сервисы (вы даже не обязаны разделять фронт и бэк; это не рекомендация, но вы можете пойти таким путем). Также вы можете заменить Bootstrap на любой CSS-фреймворк и/или UI-библиотеку по своему усмотрению.

## Требования:

Вы должны реализовать веб-приложение для создания настраиваемых форм (викторины, тесты, анкеты, опросы и т.д.), что-то вроде Google Forms. Пользователи создают "шаблоны" (набор вопросов, их названия и описания и т.д.), а другие пользователи заполняют "формы" (их конкретные ответы) по этим шаблонам (например, вводят или выбирают значения в полях).

Пример: я создаю шаблон с одним вопросом на целое число "Сколько яблок вы едите в день?" Пользователи заполняют соответствующие формы, а я могу анализировать ответы.

Неаутентифицированные пользователи:

- Не могут создавать шаблоны
- Не могут оставлять комментарии и ставить лайки
- Не могут заполнять формы
- Могут использовать поиск и просматривать шаблоны в режиме только чтения

Функции админ-страницы включают:

- Управление пользователями: просмотр, блокировка, разблокировка, удаление, добавление в администраторы, удаление из администраторов
- **Важно:** администратор может лишить себя администраторских прав

Администратор может:

- Просматривать и изменять все страницы и содержимое, как если бы он был владельцем каждого шаблона и формы

**Заполненные формы** (ответы):

- Видны автору формы, создателю шаблона и администраторам
- Шаблоны видны всем

Только администратор или создатель шаблона/формы может:

- Управлять шаблоном (добавлять/удалять/редактировать вопросы)
- Управлять формой (удалить её или редактировать ответы)

Пользователи могут:

- Регистрироваться и проходить аутентификацию через формы сайта

На каждой странице предоставляется доступ к **полнотекстовому поиску** в верхнем заголовке. В результатах поиска всегда отображаются шаблоны (например, если текст найден в описании вопроса или комментариях к шаблону, результат ведет к самому шаблону).

У каждого пользователя есть **персональная страница**, где они могут управлять сортируемой таблицей шаблонов (создавать, удалять или редактировать) и заполненными формами (на отдельных вкладках).

Каждый шаблон содержит несколько вкладок:

1. Общие настройки (название, описание и т.д.)
2. Настройки доступа (все аутентифицированные пользователи или конкретные пользователи)
3. Редактируемый набор вопросов
4. "Результаты" (заполненные формы на основе шаблона с ссылками на формы)
5. Агрегация результатов (например, среднее значение для числовых полей, наиболее частый ответ для строковых полей)

### Настройки шаблона:

- Название
- Описание (поддерживает форматирование в markdown)
- Тема (например, "Образование", "Викторина" или "Другое")
- Необязательное изображение (загруженное в облако)
- Теги (с автозаполнением из базы данных)

### Доступ к форме:

- Шаблоны могут быть отмечены как "публичные" (доступны любому аутентифицированному пользователю)
- Пользователь может выбрать конкретных пользователей, которые могут заполнять форму (выбор пользователей с автозаполнением имен и электронных адресов)

### Пользовательские вопросы:

- Фиксированные поля: пользователь (автозаполнение) и дата (автозаполнение)
- До 4 вопросов каждого типа:
  - Строка в одну строку
  - Многострочный текст
  - Положительные целые числа
  - Чекбоксы

Каждый вопрос имеет название, описание и возможность отображения в таблице заполненных форм (на вкладке результатов шаблона). Вопросы могут быть перемещены с помощью drag-and-drop.

### Пример:

Для анкеты кандидата на работу:

- Вопрос-строка: "Должность" ("На какую должность вы претендуете?")
- Вопрос на целое число: "Опыт" ("Работа на коммерческих проектах или фрилансе (в годах)")
- Вопрос-строка: "Контакт" ("Номер телефона или Skype")
- Многострочный текст: "Дополнительная информация" ("Напишите что-нибудь в поле ниже")

### Главная страница приложения:

- Галерея последних шаблонов (название, описание/изображение, автор)
- Топ-5 самых популярных шаблонов (по количеству заполненных форм)
- Облако тегов (клик по тегу отображает список шаблонов на странице результатов поиска)

При открытии шаблона внизу отображается **список комментариев** (комментарии добавляются только в конец, нельзя вставлять их между другими). Комментарии автоматически обновляются при открытии страницы (с задержкой в 2-5 секунд).

У шаблонов также есть **лайки** (только один лайк на пользователя на шаблон).

## Дополнительные требования:

- **Два языка**: английский и еще один (польский, испанский, узбекский и т.д.); переводится только UI, а не пользовательский контент
- **Две темы**: светлая и темная, пользователь выбирает одну, и выбор сохраняется
- Использование CSS-фреймворка (например, Bootstrap), но можно использовать любой другой CSS-фреймворк и набор компонентов
- Адаптивный дизайн, поддерживающий разные разрешения экрана, включая мобильные
- Использование ORM (например, Sequelize, Prisma, TypeORM, EF)
- Использование полнотекстового поискового движка (внешняя библиотека или встроенная функция базы данных)

## Запрещено:

- Полные сканирования базы данных с SELECT-запросами
- Загрузка изображений на ваш веб-сервер
- Выполнение запросов к базе данных в циклах

### Дополнительно (для дополнительной оценки):

- Аутентификация через социальные сети
- Добавление типа вопроса с возможностью выбора из списка
- Возможность добавления любого количества вопросов любого типа
- Добавление чекбокса "Отправить копию моих ответов на e-mail"

### Важные заметки:

1. Не копируйте код из внешних источников. Лучше написать меньше, но полностью понять его. Вас могут попросить изменить код на ходу и продемонстрировать его понимание.
2. Используйте готовые компоненты и библиотеки по возможности (например, для рендеринга markdown, загрузки изображений, ввода тегов, отображения облака тегов).
3. **Разверните сначала статическую страницу "Hello, world"** и всегда поддерживайте развертываемую версию.
4. **Защищайте свой проект** даже если выполнена только небольшая его часть.
5. Избегайте использования JSON для сериализации форм. Вам нужно будет редактировать шаблоны и сохранять ответы.
6. **Не создавайте таблицы в базе данных на лету**. Вместо этого используйте фиксированные вопросы и управляйте их видимостью и заголовками через реляционную базу данных.

### Дополнительные требования (на отдельную оценку, только если все основные требования выполнены):

- Аутентификация через социальные сети.
- Добавление вопросов типа "один из предложенных вариантов" с возможностью указания списка доступных опций (например, автор шаблона создает вопрос "Должность" с вариантами "Разработчик" / "DevOps" / "Тестировщик").
- Добавление неограниченного количества вопросов любого типа (не 0, 1, 2, 3 или 4, а любое количество).
- Добавление галочки "Отправить копию моих ответов на e-mail" в форме.

### ВАЖНО:

**Не копируйте код из готовых решений.** Гораздо лучше сделать меньше, но полностью понимать, что вы написали. Это очень серьезно — мы попросим вас вносить изменения в код прямо на месте, добавлять или менять что-то, будем задавать вопросы и проверять, как вы работаете с вашим проектом. Это важнее, чем количество выполненных требований. Ваш руководитель видел много подобных проектов и, скорее всего, знает большинство доступных ресурсов в Интернете на эту тему. **Не копируйте.** Используйте библиотеки как можно больше, но не копируйте код.

### Используйте готовые компоненты, библиотеки и элементы управления:

Например, используйте готовый элемент управления для:

- Отображения markdown.
- Загрузки изображений с поддержкой drag'n'drop.
- Ввода тегов.
- Отображения облаков тегов.

Чем меньше кастомного кода будет в вашем приложении, тем лучше.

### САМОЕ ВАЖНОЕ:

Начните работу с развертывания статической страницы "Hello, world" и держите разворачиваемую версию на протяжении всей разработки.

### ЕЩЕ БОЛЕЕ ВАЖНО:

Защищайте свой проект, даже если выполнена только его небольшая часть.

### Дополнительные моменты:

- **Не сериализуйте формы с использованием JSON.** Это плохая идея. Вам нужно будет редактировать шаблоны, и ответы должны сохраняться. Например, должна быть возможность изменять название вопроса или удалять его. Конечно, не стоит пытаться редактировать уже заполненные формы на лету.
- Думайте о проблеме следующим образом: все формы для данного шаблона должны быть совместимы, и вам нужно будет вычислять агрегированные значения для них.
- **Не создавайте таблицы в базе данных на лету.** Это плохая идея по нескольким причинам.

### Подход с фиксированными вопросами:

Вам нужно до 4 вопросов каждого типа. Это значит, что вы можете считать вопросы фиксированными и просто управлять тем, будут ли они отображаться, и какие заголовки будут рендериться. Реляционная база данных идеально подходит для этой задачи. Она будет работать быстро, и у вас не возникнет проблем с "Не знаю, как агрегировать данные из документов с разными полями".
